<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.13.1 (455785)"/><meta name="keywords" content="Carthage"/><meta name="altitude" content="12.10984992980957"/><meta name="author" content="moonbeammm丶"/><meta name="created" content="2017-08-24 17:26:53 +0000"/><meta name="latitude" content="31.28981589766035"/><meta name="longitude" content="121.4716975723966"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-09-22 03:08:09 +0000"/><title>1-3-Carthage打测试包</title></head><body><div>因为现在测试对我们的模块包还不信任.</div><div>所以现在打包都还是用shell这个壳打包.</div><div>打包流程和以前用dependencies是差不多的.</div><div><br/></div><div><span style="font-size: 22px;">一.之前使用dependencies打包流程</span></div><div>1.bilishell库创建分支.</div><div>2.修改dependencies.将你修改的库的分支改为你的分支.</div><div><img src="1-3-Carthage%E6%89%93%E6%B5%8B%E8%AF%95%E5%8C%85.resources/DCFAD158-9AB2-4551-845E-BAF7634E6B30.png" height="145" width="634"/><br/></div><div>3.通过bilishell库分支名去jekens打包</div><div><br/></div><div><br/></div><div><span style="font-size: 22px;">二.现在使用carthage打包流程</span></div><div>1.bilishell库创建分支</div><div>2.修改carthage.将你修改的库的分支改为你的分支.</div><div><img src="1-3-Carthage%E6%89%93%E6%B5%8B%E8%AF%95%E5%8C%85.resources/4BF7EFCD-5F48-40EF-B7D3-913DE78CB228.png" height="273" width="565"/><br/></div><div>3.通过bilishell库分支名去jekends打包</div><div><br/></div><div><span style="font-size: 23px;">三.现在打包注意点</span></div><div>1.要理清库的依赖关系.</div><div>你要打包的库如果对其他库有源码级依赖. 那么被源码级依赖的库也必须用git地址拉取其源码.而不是使用binary,</div><div>注意:因为BiliUtils要运行脚本将所有头文件都copy到BiliUtils.frameworks同级目录下.</div><div>所以所有库对BiliUtils库都必须源码级依赖.</div><div>2.你要打包的库一定要设置shcemes为shared</div><div><img src="1-3-Carthage%E6%89%93%E6%B5%8B%E8%AF%95%E5%8C%85.resources/24DA494D-C508-4B82-982F-0640E6CD17B9.png" height="144" width="712"/><br/></div><div><br/></div><div><br/></div><div><font style="font-size: 24px;">四.打包出现的问题</font></div><div><br/></div><div><font style="font-size: 19px;">问题一: 打的包没有我写的功能</font></div><div>1.检查bilishell壳工程里的cartfile文件.依赖的你修改的库的分支名是否正确</div><div><br/></div><div>2.检查你修改的库是否勾选了scheme-&gt;shared选项.</div><div><br/></div><div>3.查看bilishell壳工程里的build.sh脚本文件.查看运行carthage的命令.</div><div>3.1如果使用的是bootstrap.那打包机就不会去更新.resolved文件.</div><div>有两个解决办法.</div><div>3.1.1.将build.sh脚本里的bootstrap命令换成update.</div><div>3.1.2.你本地更新.resolved文件并push到远程.(<span style="font: 12.0px 'Andale Mono'; font-variant-ligatures: no-common-ligatures; color: #28fe14; background-color: rgba(30, 30, 30, 0.87);">carthage update --no-build --no-checkout</span>)</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>