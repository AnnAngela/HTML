<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.13.1 (455785)"/><meta name="keywords" content="Carthage"/><meta name="author" content="moonbeammm丶"/><meta name="created" content="2017-10-17 08:59:12 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-10-17 09:16:34 +0000"/><title>1-6-Carthage解决冲突</title></head><body><div>经常遇到跑carthage update卡住不动了.</div><div>这时候可能是你cartfile依赖的某个或某几个库依赖的分支或tag有冲突.</div><div>导致carthage不知道去checkout哪个分支或tag.</div><div>导致carthage一直卡住不动.</div><div>或者导致打包机杀了你的任务.</div><div><br/></div><div>排查cartfile冲突方法如下.</div><div><br/></div><div><font style="font-size: 25px;">1.打开BiliShell的cartfile.</font></div><div><span style="color: rgb(255, 38, 0);">(注意:这里是打开你跑的壳工程的cartfile.也可能是BBPhone的壳bili-universal的cartfile)</span></div><div><br/></div><div><font style="font-size: 25px;">2.打开BiliShell的carfile里所有依赖的git库的cartfile</font></div><div>比如如下为BiliShell的cartfile.</div><div>他依赖了BiliUtils/BBPhone/BFC的源码.</div><div>那就把BBPhone和BFC两个库的分支分别切到r5.15-new_player</div><div><br/></div><div><img src="1-6-Carthage%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81.resources/08D5601A-2A62-450F-B8B2-1658935EE65C.png" height="358" width="630"/><br/></div><div><br/></div><div><font style="font-size: 25px;">3.然后打开这两个库的cartfile</font></div><div><img src="1-6-Carthage%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81.resources/EEA504C5-A52A-4C3C-ADCA-1919EFC8EDCA.png" height="376" width="1765"/><br/></div><div><br/></div><div><font style="font-size: 25px;">4.对比这三个cartfile里依赖的tag号和分支名</font></div><div>常识</div><div>~&gt; 1.0.0    <span>    <span>    </span></span>大于等于1.0.0小于2.0.0</div><div>&gt;= 1.0.0            大于等于1.0.0</div><div>== 1.0.0 <span>    <span>    <span>    写死就是1.0.0</span></span></span></div><div><br/></div><div><font color="#ff2600">冲突一:</font></div><div>从上图就可以看出BiliShell依赖BiliUtils的  ~&gt;1.0.2</div><div>而BFC却依赖BiliUtils的 写死的 1.0.2</div><div><br/></div><div><font color="#ff2600">冲突二:</font></div><div>BiliShell依赖BFC的r5.15-new_player的源码分支</div><div>而BBPhone却依赖BFC的framework</div><div><br/></div><div><font color="#ff2600">冲突三:</font></div><div>BiliShell依赖BPCFollowing的  ==0.4.4</div><div>而BBPhone却依赖BPCFollowing的 ~&gt;1.0.0</div><div><br/></div><div><img src="1-6-Carthage%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81.resources/5EF9FD5E-B48A-4E6E-A5FC-4CD293EA1DF7.png" height="408" width="615"/></div><div><img src="1-6-Carthage%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81.resources/9915FE11-74EF-4D50-9DB8-A8BF20E0E19C.png" height="387" width="636"/></div><div><img src="1-6-Carthage%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81.resources/54942FEA-441D-43D6-A115-50464E081B7C.png" height="137" width="577"/></div><div><br/></div><div><br/></div></body></html>